(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5061],{58119:function(e,t,r){Promise.resolve().then(r.bind(r,86249)),Promise.resolve().then(r.bind(r,24627)),Promise.resolve().then(r.bind(r,41041))},41041:function(e,t,r){"use strict";r.d(t,{default:function(){return I}});var n=r(63649),s=r(54182),l=r(21841),o=r(20087),i=r(43144),a=e=>{let{children:t,target:r}=e,[n,l]=(0,s.useState)(!1);return(0,s.useEffect)(()=>(l(!0),()=>l(!1)),[]),n?(0,i.createPortal)(t,r||document.body):null},u=r(9839),c=r(37032),p=r(21694),d=r(90941),h=r(51382),m=r.n(h),f=e=>{let{timelinesRef:t=new Map,vertical:r,background:l="general-white",color:o="consumer-purple-dark",className:i}=e,[a,u]=(0,s.useState)(),[h,f]=(0,s.useState)(null),g=(0,s.useRef)([]),v=Array.from(t.current.values()),x=v.length,_=r?"height":"width";return(0,d.k)(()=>{let e=v.findIndex(e=>{let t=null==e?void 0:e.time();return t>0&&t<.9999});if(-1===e){let e=v[x-1];e&&e.progress()>.9&&(f(x),u(!0));return}u(!1),v.forEach((t,r)=>{if(e===r){let e=t.time();p.ZP.set(g.current[r],{scaleY:e}),f(r)}else p.ZP.set(g.current[r],{scaleY:r<h?1:0})})}),(0,n.jsx)("ul",{className:(0,c.Z)(m()["scroll-progress"],i,{[m().vertical]:r,[m().hidden]:a}),style:{background:"var(--".concat(l,")")},children:[...Array(x)].map((e,t)=>(0,n.jsx)("li",{className:m().button,style:{[_]:t===h&&"4rem"},children:(0,n.jsx)("div",{className:m().progress,style:{background:"var(--".concat(o,")"),transform:"scaleY(0)"},ref:e=>g.current[t]=e})},t))})},g=r(49015),v=r(91849),x=r(73123),_=r(33911),y=r(10773),k=r(61397),b=(r(53294),r(78328)),M=r(62040),j=r(46618),w=r(7964),V=r(70877),C=r(30294),R=r(12596),z=r(65359),N=r(69916),E=r.n(N);let S=["looking_around","solemn_nod_and_wink","blink","wet_shake"],A={desktop:[{top:0,position:{x:0,y:-1,z:0},scale:5.6,lockMouse:!0},{top:"18vh",position:{x:0,y:-.5,z:0},scale:1},{top:"120vh",position:{x:0,y:-.5,z:0},scale:1},{top:"340vh",position:{x:0,y:.15,z:0},scale:1},{top:"500vh",position:{x:0,y:-.5,z:0},scale:1},{top:"720vh",position:{x:0,y:.15,z:0},scale:1},{top:"820vh",position:{x:.21,y:.15,z:0},scale:1},{top:"870vh",position:{x:0,y:-.5,z:0},scale:1},{top:"980vh",position:{x:0,y:-1,z:0},scale:1,lockMouse:!0}],mobile:[{top:0,position:{x:0,y:.55},scale:1.3},{top:"18vh",position:{x:.17,y:-.27},scale:.4},{top:"130vh",position:{x:0,y:.3},scale:.4},{top:"280vh",position:{x:0,y:-.2},scale:.4},{top:"630vh",position:{x:0,y:.25},scale:.4},{top:"690vh",position:{x:.25,y:-.18},scale:.4},{top:"820vh",position:{x:0,y:-.2},scale:.4},{top:"940vh",position:{x:0,y:1},scale:.3}]},P=(0,s.forwardRef)((e,t)=>{let{action:r="ears_shake",className:l}=e,o=(0,j.i)(),i=(0,s.useRef)(),a=(0,s.useRef)(),[u,h]=(0,s.useState)(),m=(0,s.useRef)(null),f=(0,_.q)("homeMascotAction"),[g,v]=(0,s.useState)(!1),{isLottieSupported:x,isWebGLSupported:y,fallback:N}=(0,R.a)({el:a,instance:u,action:r,useInViewAnimation:!1,renderer:"svg",disableOnInViewWebGL:!0});(0,z.E)({instance:u,isEnabled:!g,animations:S});let P=(0,s.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ears_shake",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;y&&(clearTimeout(m.current),m.current=setTimeout(()=>{let t=()=>v(!1);v(!0),null==u||u.playAnimation(e,{onFinished:t,onCancel:t})},t))},[u,y]);(0,s.useEffect)(()=>(null!==f&&P(f),()=>m.current&&clearTimeout(m.current)),[f,P]),(0,s.useImperativeHandle)(t,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;return{onEnter:()=>{P("ears_shake",e)},onLeave:()=>{m.current&&clearTimeout(m.current)},instance:u,lottie:a}},[u,P,a]);let Y=(0,s.useRef)({springXMultiplier:.1,springYMultiplier:.05}),Z=(0,s.useRef)(.01),[T,I]=(0,s.useState)(!1),J=(0,s.useRef)(),F=(0,s.useRef)(null),W=(0,s.useMemo)(()=>y?A.desktop:A.mobile,[y]),X=(0,s.useRef)({...Y.current}),H=(0,s.useMemo)(()=>W.map((e,t)=>{let{top:r,...n}=e;return{...n,y:o.height*(.01*parseInt(r)),id:t}}).reverse(),[o.height,W]),O=(0,s.useRef)({current:0,smoothed:0}),q=(0,s.useRef)(0),L=(0,s.useRef)([(0,V.J)(200,500,3),(0,V.J)(200,500,3),(0,V.J)(200,500,3),(0,V.J)(200,500,3)]);(0,s.useEffect)(()=>{Z.current=p.p8.utils.mapRange(780,1200,.005,.01,o.height)},[o.height]);let D=(0,s.useCallback)(()=>{let e=3+.5*q.current;L.current.forEach(t=>t.updateConfig({mass:e}))},[L,q]),G=(0,s.useCallback)(()=>{var e,t,r;if(!(null==u?void 0:null===(t=u.translate)||void 0===t?void 0:null===(e=t.current)||void 0===e?void 0:e.position))return;let[n,s,l,i]=L.current;y?(u.translate.current.position.set(n.currentValue,s.currentValue,l.currentValue),u.translate.current.scale.set(i.currentValue,i.currentValue,i.currentValue)):(null===(r=a.current.children)||void 0===r?void 0:r[0])&&p.p8.set(a.current.children[0],{x:n.currentValue*o.width,y:s.currentValue*o.height,scale:i.currentValue})},[L,u,y,o]),K=(0,s.useCallback)(e=>{let t=H.find(t=>t.y<=e);if(!t)return;let r=t.id===F.current,n=q.current>20;if(!t||r||n)return;X.current.springXMultiplier=t.lockMouse?.1:.5,X.current.springYMultiplier=t.lockMouse?.05:.5;let{position:s,scale:l}=t;if(s&&u&&T){let[e,t,r,n]=L.current,{x:o=0,y:i=0,z:a=0}=s;e.updateConfig({toValue:o}).start(),t.updateConfig({toValue:i}).start(),r.updateConfig({toValue:a}).start(),n.updateConfig({toValue:l}).start()}F.current=t.id},[H,T,u]);(0,d.k)((e,t)=>{u&&T&&(Y.current.springXMultiplier=p.p8.utils.interpolate(Y.current.springXMultiplier,X.current.springXMultiplier,.05),Y.current.springYMultiplier=p.p8.utils.interpolate(Y.current.springYMultiplier,X.current.springYMultiplier,.05),O.current.smoothed=p.p8.utils.interpolate(O.current.smoothed,O.current.current,.15),q.current=Math.abs(O.current.current-O.current.smoothed)/t,K(O.current.current),G(),D(t))},[u,T,D,G,K]);let U=(0,s.useCallback)(e=>{let{y:t}=e;O.current.current=t},[O]);return(0,k.V)(()=>{var e;if(!u||(null===(e=J.current)||void 0===e?void 0:e.time())>0||!N)return;let t=W[0].position,r=W[0].scale||1,n=p.p8.timeline({defaults:{ease:"power2.out"},onComplete:()=>{let{x:e=0,y:n=0,z:s=0}=t,l=[e,n,s,r];L.current.forEach((e,t)=>{let r=l[t];e.updateConfig({toValue:r,fromValue:r})}),I(!0)}});if(y)u.animateIn(),n.set(u.translate.current.scale,{x:r,y:r,z:r},0).fromTo(u.translate.current.position,{...t,y:1.5*t.y},{...t,duration:1.2},0);else{let e=t.y*o.height;n.set(a.current,{autoAlpha:1}).fromTo(a.current.children[0],{y:1.5*e,scale:r},{scale:r,y:e,duration:.9},0)}n.add(()=>{y?u.playAnimation("ears_shake"):N.current.play()},">-0.9"),J.current=n},[u,W,y]),(0,M.v)(U),(0,n.jsxs)("div",{ref:i,className:(0,c.W)(l,!y&&"webgl-not-supported",E()["z-top"]),children:[(0,n.jsxs)(w.G7,{frames:1,className:"inset-0",visible:y,children:[(0,n.jsx)(w.M5,{position:[0,0,0],children:(0,n.jsx)(w.t$,{scale:2.5,children:(0,n.jsx)(C.Z,{name:"home",action:"",ref:h,useScaleAnimation:!1,isMouseFollowing:!0,mouseFollowConfig:Y,idleAnimationStrength:Z})})}),(0,n.jsx)("ambientLight",{intensity:4})]}),(0,n.jsx)("div",{ref:a,className:(0,c.W)(E()["lottie-wrapper"]),style:{visibility:"hidden",opacity:0}}),!y&&!x&&(0,n.jsx)("div",{className:"fox-mascot-fallback-image",children:(0,n.jsx)(b.Z,{src:"/assets/images/fox/default.svg",width:1e3,height:1e3,alt:r})}),!1]})});P.displayName="Home";var Y=(0,s.memo)(P),Z=r(73367),T=r.n(Z);function I(e){var t;let r=(0,v.n)(e),{modules:i,theme:c,loaderColorPalette:p,extraData:d,tags:h}=r,{jsonLdSchema:m,showUKBanner:k}=d||{},b=(0,s.useMemo)(()=>(0,y.MW)(c),[c]),M=(0,s.useMemo)(()=>(0,y.MW)(p),[p]),j=(0,_.q)("set"),[w,V]=(0,s.useState)(),C=(0,s.useRef)(new Map),R=(e,t)=>{e&&t&&C.current.set(t,e)};return(0,s.useEffect)(()=>{j({showUKBanner:k})},[k,j]),(0,x.t)(null==r?void 0:null===(t=r.extraData)||void 0===t?void 0:t.isFullyTranslated),(0,n.jsxs)(n.Fragment,{children:[m&&(0,n.jsx)(l.Z,{type:m.type,data:m.data}),(0,n.jsx)(o.Z,{color:M||b}),(0,n.jsxs)(u.v.Provider,{value:w,children:[(0,n.jsx)(a,{children:(0,n.jsx)(f,{className:T().pagination,timelinesRef:C,background:"general-black-light",color:"general-white",vertical:!0})}),(0,n.jsx)(a,{children:(0,n.jsx)(Y,{className:T().mascot,ref:V})}),null==i?void 0:i.map((e,t)=>(0,n.jsx)(g.Z,{data:e,tags:h,tlRef:R},t))]})]})}},69916:function(e){e.exports={"mascot-reference":"home_mascot-reference____rD8","z-top":"home_z-top__lJwSO","lottie-wrapper":"home_lottie-wrapper__jP15K"}},51382:function(e){e.exports={"scroll-progress":"scroll-progress_scroll-progress__cJKnl",hidden:"scroll-progress_hidden__7hYz2",vertical:"scroll-progress_vertical__VskNm",button:"scroll-progress_button__8azsM",progress:"scroll-progress_progress__HPqht"}},73367:function(e){e.exports={mascot:"home_mascot__ZCSUv",pagination:"home_pagination__gvMHy"}}},function(e){e.O(0,[5756,9683,5635,3159,4201,8190,1206,4164,9203,5422,5772,3606,2405,475,6894,2380,9264,8842,3294,1539,3611,8463,407,4265,8875,790,1744],function(){return e(e.s=58119)}),_N_E=e.O()}]);